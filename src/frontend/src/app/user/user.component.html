<section class="section pb-0">
   <div class="container">
      <div style="text-align:center">
        <h1>
          Friends
        </h1>
      </div>
      <router-outlet></router-outlet>
      <div class="card">
        <header class="card-header">
          <p class="card-header-title">Search New Friends</p>
        </header>
        <div class="card-content">
          <form #searchForm="ngForm" (ngSubmit)="searchUsers()">
            <div class="field has-addons">
                <div class="control has-icons-left has-icons-right is-expanded">
                    <input type="text" class="input" id="searchTerm" name="searchTerm" [(ngModel)]="searchTerm" placeholder="Search User by Name" required>
                </div>
                <p class="control">
                    <button type="submit" class="button is-info">Search</button>
                </p>
            </div>
          </form>
          <ul>
            <li *ngFor="let user of searchSource">
              {{ user.name }}
              <button type="button" class="button is-small is-primary" (click)="addFriend(user)">Add friend</button>
            </li>
          </ul>
        </div>
      </div>
      <br><br>
      <div class="card">
        <header class="card-header">
          <p class="card-header-title">My Friends List</p>
        </header>
        <div class="card-content">
          <table class="table is-striped is-hoverable friends-table">
            <thead>
              <tr>
                <th>On</th>
                <th>Avatar</th>
                <th>Name</th>
                <th>Score</th>
                <th>Played</th>
                <th>Wins</th>
                <th>Losses</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let user of dataSource">
                <td><span class="icon has-text-success"><i class="fa-solid fa-circle"></i></span></td>
                <td><img class="is-rounded" src="assets/avatar.jpg" class="avatar-table">{{user.avatar}}</td>
                <td>{{user.name}}</td>
                <td>{{user.score}}</td>
                <td>{{user.played}}</td>
                <td>{{user.wins}}</td>
                <td>{{user.losses}}</td>
                <td>
                  <a class="button is-small is-primary" [routerLink]="['/profiles', user.id]"><span class="icon is-small"><i class="fas fa-eye"></i></span></a>
                  <button class="button is-danger" (click)="removeFriend(user.id)"><span class="icon is-small"><i class="fas fa-times"></i></span></button>
                  <!-- <button class="button is-info" (click)="selectUser(user)">Select User</button> -->
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
  </div>
</section>