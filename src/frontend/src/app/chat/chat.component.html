<div class="container">
  <div class="card">
    <div style="display: flex; flex-direction: row;">
      <div>
        <div>
           <span style="display: flex; flex-direction: row; align-items: baseline;">
            <h2>My Chatrooms</h2>
            <small style="margin-left:10px;">Logged in as {{user?.name}}</small>
          </span>
          <button mat-button [routerLink]="['create-room']">Create new Room</button>
        </div>
        <div *ngIf="(rooms$|async)?.items?.length > 0;" class="rooms">
             <mat-selection-list [multiple]="false" (selectionChange)="onSelectRoom($event)">
                <mat-list-option *ngFor="let room of (rooms$ | async)?.items" [value]="room">
                  Name: {{room.name}} Id: {{room.id}}
                  <mat-divider></mat-divider>
                </mat-list-option>
              </mat-selection-list>
              <mat-paginator
                [length]="(rooms$ | async)?.meta?.totalItems"
                [pageIndex]="(rooms$ | async)?.meta?.currentPage"
                [pageSize]="(rooms$ | async)?.meta?.itemsPerPage" (page)="onPaginateRooms($event)"
                (page)="onPaginateRooms($event)"
                [pageSizeOptions]="[10,25,50]"
              ></mat-paginator>
        </div>
      </div>
      <div class="chatroom">
        <app-chat-room [chatRoom]="selectedRoom"></app-chat-room>

      </div>
    </div>
  </div>
</div>

<!-- <div class="container">
  <div class="card">
    <div style="display: flex; flex-direction: row;">
      <div>
        <h1>My Chatrooms</h1>
        <button class="button is-primary" routerLink="create-room">Create new Room</button>
         <mat-selection-list [multiple]="false" (selectionChange)="onSelectRoom($event)">
            <mat-list-option *ngFor="let room of (rooms$ | async)?.items" [value]="room">
              Name: {{room.name}} Id: {{room.id}}
              <mat-divider></mat-divider>
            </mat-list-option>
          </mat-selection-list>
      </div>
    </div>
    <div style="height: 400px; position: relative;">
      <mat-paginator
        [length]="(rooms$ | async)?.meta?.totalItems"
        [pageIndex]="(rooms$ | async)?.meta?.currentPage"
        [pageSize]="(rooms$ | async)?.meta?.itemCount"
        (page)="onPaginateRooms($event)"
        [pageSizeOptions]="[10,25,50]"
      ></mat-paginator>
    </div>
    <div style="margin-left: 40px;">
      <h1>My Room</h1>
      {{(selectedRoom | json)}}
    </div>
  </div>
</div> -->